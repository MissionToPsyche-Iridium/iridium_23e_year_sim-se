<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Psyche Mission Timeline</title>
  <style>
    :root {
      --primary-color: #302144;
      --accent-color: #ef5965;
      --bg-color: #ef5965;
      --text-color: #ffffff;
    }

    [data-theme="dark"] {
      --bg-color: #1a1a1a;
      --text-color: #ffffff;
      --accent-color: #ff7b84;
    }

    /* Title animation */
    .title {
      text-align: center;
      font-size: 2.5em;
      font-weight: bold;
      margin: 10px 0;
      color: var(--accent-color);
      text-shadow: 0 0 10px var(--accent-color);
      position: relative;
      animation: titleFloat 3s ease-in-out infinite;
      font-family: 'Arial', sans-serif;
      letter-spacing: 2px;
    }

    @keyframes titleFloat {
      0% {
        transform: translateY(0) rotate(0deg);
        text-shadow: 0 0 10px var(--accent-color);
      }
      50% {
        transform: translateY(-10px) rotate(1deg);
        text-shadow: 0 0 20px var(--accent-color), 0 0 30px var(--accent-color);
      }
      100% {
        transform: translateY(0) rotate(0deg);
        text-shadow: 0 0 10px var(--accent-color);
      }
    }

    .title::before,
    .title::after {
      content: '';
      position: absolute;
      height: 2px;
      width: 0;
      background: var(--accent-color);
      top: 50%;
      transition: width 1s ease;
      box-shadow: 0 0 10px var(--accent-color);
    }

    .title::before {
      right: 55%;
      margin-right: 20px;
      animation: lineExtendLeft 2s forwards;
    }

    .title::after {
      left: 55%;
      margin-left: 20px;
      animation: lineExtendRight 2s forwards;
    }

    @keyframes lineExtendLeft {
      to { width: 15%; }
    }

    @keyframes lineExtendRight {
      to { width: 15%; }
    }

    #backgroundCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -2;
      background: black;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      perspective: 800px;
      height: 100vh;
      overflow: hidden;
      position: fixed;
      width: 100%;
      top: 0;
      left: 0;
    }

    .timeline-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 0;
      position: relative;
      z-index: 1;
      transform-style: preserve-3d;
      transform: perspective(1000px);
      height: calc(100vh - 120px);
      overflow-y: auto;
    }

    .timeline {
      position: relative;
      padding: 5px 0;
    }

    .timeline::before {
      content: '';
      position: absolute;
      width: 4px;
      background: linear-gradient(to bottom, var(--primary-color) var(--scroll-progress, 0%), rgba(48, 33, 68, 0.2) var(--scroll-progress, 0%));
      top: 0;
      bottom: 0;
      left: 50%;
      margin-left: -2px;
      transition: background 0.3s ease;
    }

    .event {
      padding: 6px 12px;
      position: relative;
      width: 50%;
      box-sizing: border-box;
    }

    .event::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: var(--accent-color);
      border: 4px solid var(--primary-color);
      border-radius: 50%;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      transform-style: preserve-3d;
      animation: pulse 4s infinite;
      transition: all 0.3s ease;
    }

    .event:hover::after {
      background-color: var(--primary-color);
      transform: translateY(-50%) scale(1.2);
    }

    .event::before {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: rgba(239, 89, 101, 0.4);
      top: 50%;
      opacity: 0;
      transform: translateY(-50%) scale(1);
      pointer-events: none;
    }

    .event.clicked::before {
      animation: ripple 0.8s ease-out;
    }

    @keyframes ripple {
      0% {
        transform: translateY(-50%) scale(1);
        opacity: 1;
      }
      100% {
        transform: translateY(-50%) scale(3);
        opacity: 0;
      }
    }

    @keyframes pulse {
      0% {
        transform: translateY(-50%) scale(1) rotateY(0deg);
        box-shadow: 0 0 5px var(--accent-color);
      }
      50% {
        transform: translateY(-50%) scale(1.2) rotateY(360deg);
        box-shadow: 0 0 15px var(--accent-color);
      }
      100% {
        transform: translateY(-50%) scale(1) rotateY(720deg);
        box-shadow: 0 0 5px var(--accent-color);
      }
    }

    .event-left {
      left: 0;
      text-align: right;
    }
    .event-right {
      left: 50%;
      text-align: left;
    }
    .event-left::after {
      right: -10px;
    }
    .event-right::after {
      left: -10px;
    }

    .event-content {
      padding: 8px;
      background-color: rgba(48, 33, 68, 0.2);
      border-radius: 8px;
      position: relative;
      transform: translateZ(0);
      opacity: 0;
      transition: all 0.5s ease;
      cursor: pointer;
      max-height: 70px;
      overflow: hidden;
    }

    .event-content.expanded {
      max-height: 500px;
      background-color: rgba(48, 33, 68, 0.3);
    }

    .event-content::after {
      content: 'â†“';
      position: absolute;
      bottom: 5px;
      right: 10px;
      color: var(--accent-color);
      transition: transform 0.3s ease;
    }

    .event-content.expanded::after {
      transform: rotate(180deg);
    }

    .event.visible .event-content {
      opacity: 1;
      transform: translateX(0);
    }

    .event-left .event-content {
      transform: translateX(-50px);
    }

    .event-right .event-content {
      transform: translateX(50px);
    }

    .event-content:hover {
      transform: scale(1.05) translateZ(10px);
      box-shadow: 0 5px 15px rgba(239, 89, 101, 0.2);
      background-color: rgba(48, 33, 68, 0.25);
    }

    .event-date {
      font-weight: bold;
      color: #ffffff;
      margin-bottom: 4px;
    }

    .event-description {
      margin: 0;
      line-height: 1.4;
      font-weight: 500;
    }

    .event-popup {
      position: absolute;
      background: var(--bg-color);
      border: 2px solid var(--primary-color);
      padding: 15px;
      border-radius: 10px;
      z-index: 1000;
      max-width: 300px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transform: perspective(600px) rotateY(90deg) scale(0.8);
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
      backdrop-filter: blur(5px);
    }

    .event-popup.active {
      opacity: 1;
      transform: perspective(600px) rotateY(0deg) scale(1);
      pointer-events: auto;
    }

    .event-popup h3 {
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.4s ease 0.2s;
      margin-top: 0;
      color: var(--text-color);
    }

    .event-popup p {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.4s ease 0.3s;
      margin: 8px 0;
      color: var(--text-color);
    }

    .event-popup img {
      opacity: 0;
      transform: scale(0.9);
      transition: all 0.4s ease 0.4s;
    }

    .event-popup.active h3,
    .event-popup.active p,
    .event-popup.active img {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    @media screen and (max-width: 768px) {
      .timeline::before {
        left: 40px;
      }
      .event {
        width: 100%;
        padding-left: 60px;
        padding-right: 15px;
      }
      .event-left,
      .event-right {
        left: 0;
        text-align: left;
      }
      .event-left::after,
      .event-right::after {
        left: 28px;
      }
      .title::before,
      .title::after {
        display: none;
      }
    }

    .timeline-container::-webkit-scrollbar {
      width: 8px;
    }

    .timeline-container::-webkit-scrollbar-track {
      background: rgba(48, 33, 68, 0.1);
    }

    .timeline-container::-webkit-scrollbar-thumb {
      background: var(--accent-color);
      border-radius: 4px;
    }

    .timeline-container::-webkit-scrollbar-thumb:hover {
      background: var(--primary-color);
    }
  </style>
</head>
<body>
  <canvas id="backgroundCanvas"></canvas>
  <h1 class="title">A Year on Psyche vs Earth</h1>
  <div class="timeline-container">
    <div class="timeline">
      <div class="event event-left">
        <div class="event-content">
          <div class="event-date">Day 1</div>
          <p class="event-description">While you celebrate 1 birthday on Earth, on Psyche you'd still be waiting... it's only been like 2 months in Psyche time!</p>
        </div>
      </div>
      <div class="event event-right">
        <div class="event-content">
          <div class="event-date">Day 365</div>
          <p class="event-description">Happy Earth Birthday! But on Psyche, you're not even a quarter through the year yet - still time for more cake!</p>
        </div>
      </div>
      <div class="event event-left">
        <div class="event-content">
          <div class="event-date">Day 730</div>
          <p class="event-description">You could have TWO Halloween candy collections on Earth, but on Psyche you're still working on your first year's trick-or-treat bag!</p>
        </div>
      </div>
      <div class="event event-right">
        <div class="event-content">
          <div class="event-date">Day 1,095</div>
          <p class="event-description">Three Christmas celebrations have passed on Earth! That's three times the presents, while Psyche is still counting down to its first Christmas!</p>
        </div>
      </div>
      <div class="event event-left">
        <div class="event-content">
          <div class="event-date">Day 1,460</div>
          <p class="event-description">Four summer vacations have happened on Earth - that's a lot of ice cream! Meanwhile, summer hasn't even started on Psyche!</p>
        </div>
      </div>
      <div class="event event-right">
        <div class="event-content">
          <div class="event-date">Day 1,826</div>
          <p class="event-description">Finally! Your first Psyche New Year! In the same time, you could have watched 1,826 episodes of your favorite cartoon on Earth! That's a lot of TV!</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('backgroundCanvas');
    const ctx = canvas.getContext('2d');
    let stars = [];
    const numStars = 200;

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function initStars() {
      stars = [];
      for (let i = 0; i < numStars; i++) {
        stars.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          radius: Math.random() * 1.2,
          speed: Math.random() * 0.5 + 0.2
        });
      }
    }
    initStars();

    let mouseX = 0;
    let mouseY = 0;

    document.addEventListener('mousemove', (e) => {
      mouseX = (e.clientX / window.innerWidth - 0.5) * 2;
      mouseY = (e.clientY / window.innerHeight - 0.5) * 2;
    });

    function animateStars() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let star of stars) {
        ctx.beginPath();
        star.x += mouseX * star.speed * 0.5;
        star.y += star.speed + mouseY * star.speed * 0.5;

        if (star.y > canvas.height) {
          star.y = 0;
          star.x = Math.random() * canvas.width;
        }
        if (star.y < 0) {
          star.y = canvas.height;
          star.x = Math.random() * canvas.width;
        }
        if (star.x > canvas.width) {
          star.x = 0;
        }
        if (star.x < 0) {
          star.x = canvas.width;
        }

        ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
        ctx.fillStyle = "white";
        ctx.fill();
      }
      requestAnimationFrame(animateStars);
    }
    animateStars();

    function updateTimelineProgress() {
      const timeline = document.querySelector('.timeline');
      const container = document.querySelector('.timeline-container');
      const rect = timeline.getBoundingClientRect();
      const total = rect.height;
      const visible = container.clientHeight;
      const current = Math.max(0, -rect.top);
      const progress = Math.min(100, (current / (total - visible)) * 100);
      document.documentElement.style.setProperty('--scroll-progress', `${progress}%`);
    }

    const container = document.querySelector('.timeline-container');
    container.addEventListener('scroll', updateTimelineProgress);
    updateTimelineProgress();

    document.addEventListener('mousemove', (e) => {
      const container = document.querySelector('.timeline-container');
      const xAxis = (window.innerWidth / 2 - e.pageX) / 25;
      const yAxis = (window.innerHeight / 2 - e.pageY) / 25;
      container.style.transform = `perspective(1000px) rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
    });

    document.querySelectorAll('.event-content').forEach(content => {
      content.addEventListener('click', (e) => {
        if (e.target.closest('.event::after')) return;
        content.classList.toggle('expanded');
      });
    });

    document.querySelectorAll('.event').forEach(event => {
      event.addEventListener('click', () => {
        event.classList.remove('clicked');
        void event.offsetWidth;
        event.classList.add('clicked');
      });
    });

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });

    document.querySelectorAll('.event').forEach(event => {
      observer.observe(event);
    });

    const popup = document.createElement('div');
    popup.className = 'event-popup';
    document.body.appendChild(popup);

    const eventDetails = {
      "Day 1": {
        title: "Birthday Countdown",
        description: "On Earth, you're excited for your birthday in a year. But on Psyche, you've got a REALLY long wait - about 5 Earth years! That's like waiting through 1,826 bedtimes!",
        image: "images/birthday.jpg"
      },
      "Day 365": {
        title: "Earth's Complete Year",
        description: "While Earth finishes its first lap around the Sun, Psyche is like 'Wait for me!' - it's only about 20% done with its year. That's because Psyche is taking the scenic route!",
        image: "images/earth.jpg"
      },
      "Day 730": {
        title: "Double the Fun",
        description: "Two Earth years means double the candy on Halloween! While kids on Earth are getting their second batch of treats, Psyche kids are still working on their first year's candy stash!",
        image: "images/halloween.jpg"
      },
      "Day 1,095": {
        title: "Triple the Celebrations",
        description: "Three Christmas celebrations have passed on Earth! That's three times the presents, cookies, and holiday fun. Psyche is still getting ready for its first Christmas!",
        image: "images/christmas.jpg"
      },
      "Day 1,460": {
        title: "Four Summers of Fun",
        description: "Earth kids have enjoyed four summer breaks full of swimming, ice cream, and fun in the sun. Meanwhile, Psyche is still counting down to its first summer vacation!",
        image: "images/summer.jpg"
      },
      "Day 1,826": {
        title: "The Big Finish",
        description: "Finally! Psyche completes its year! In the same time, you could have: watched 1,826 cartoons, eaten 5,478 meals, or had 2,607 playdates on Earth! Now that's a long year!",
        image: "images/celebration.jpg"
      }
    };

    document.querySelectorAll('.event').forEach(event => {
      event.addEventListener('click', (e) => {
        e.stopPropagation();
        const date = event.querySelector('.event-date').textContent;
        const details = eventDetails[date];
        if (!details) return;

        popup.innerHTML = `
          <h3>${details.title}</h3>
          <p>${details.description}</p>
          ${details.image ? `<img src="${details.image}" style="max-width: 100%; height: auto; margin-top: 10px;">` : ''}
        `;

        setTimeout(() => {
          const popupWidth = popup.offsetWidth;
          const markerRect = event.getBoundingClientRect();
          const isLeft = event.classList.contains('event-left');
          let leftPosition;
          
          if (isLeft) {
            leftPosition = markerRect.right + 10;
          } else {
            leftPosition = markerRect.left - popupWidth - 10;
          }

          const margin = 10;
          if (leftPosition < margin) leftPosition = margin;
          if (leftPosition + popupWidth > window.innerWidth - margin) {
            leftPosition = window.innerWidth - popupWidth - margin;
          }

          popup.style.top = `${markerRect.top + window.scrollY}px`;
          popup.style.left = `${leftPosition}px`;
          popup.classList.add('active');
        }, 0);
      });
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.event') && !e.target.closest('.event-popup')) {
        popup.classList.remove('active');
      }
    });

    function updateTheme() {
      const theme = localStorage.getItem('theme') || 'light';
      document.documentElement.setAttribute('data-theme', theme);
    }
    updateTheme();
    window.addEventListener('storage', (e) => {
      if (e.key === 'theme') {
        updateTheme();
      }
    });
  </script>
</body>
</html>
