<!--
  File: Rotating Image with Gradient Progress Bar
  Description: 
    This file implements a rotating image with a progress bar that visually indicates loading progress. 
    The progress bar starts as purple and transitions to yellow as it fills, matching the color scheme
    of the Psyche logo. Currently, the loading is simulated for demonstration purposes.
    
  Version: 1.0
  Author: Joshua Anselm ASUSER401 FALL 2024 
  Date: 8 OCT 2024
  
  Usage: 
    - Simulated loading runs when the page loads and updates the progress bar in increments.
    - To implement 3D model loading using GLTFLoader, replace the simulated loading script with the
      necessary GLTF loading code  found at https://threejs.org/docs/#examples/en/loaders/GLTFLoader.

  Future Enhancements:
    - Integrate GLTFLoader for real-time 3D model loading and tie the progress bar to the loading status.
    - Implement error handling for model loading failures.
    - In-line styling can be moved to separate CSS file.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rotating Image with Progress Bar</title>
  
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f0f0f0;
    }

    .wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .image-container {
      perspective: 1000px;
      max-width: 100%;
      max-height: 80vh;
    }

    .rotating-image {
      width: 100%;
      height: auto;
      max-width: 200px;
      max-height: 200px;
      animation: rotateYAnimation 3s infinite linear;
      transform-style: preserve-3d;
    }

    @keyframes rotateYAnimation {
      from {
        transform: rotateY(0deg);
      }
      to {
        transform: rotateY(360deg);
      }
    }

    .progress-bar-container {
      width: 100%;
      height: 10px;
      background-color: #ddd;
      margin-top: 20px;
      max-width: 200px;
      border-radius: 5px;
      overflow: hidden;
    }

    .progress-bar {
      width: 0%;
      height: 100%;
      background: linear-gradient(to right, purple, yellow);
      border-radius: 5px;
    }
  </style>
</head>
<body>

  <div class="wrapper">
    <div class="image-container">
      <img src="Psyche_BadgeSolid_Color-PNG.png" alt="Rotating Image" class="rotating-image">    </div>
    <div class="progress-bar-container">
      <div class="progress-bar" id="progress-bar"></div>
    </div>
  </div>

  <!-- Scripts required to import three.js libraries and loader functions-->
  <script src="https://threejs.org/build/three.js"></script>
  <script src="https://threejs.org/examples/js/loaders/GLTFLoader.js"></script>

  <!--
  Replace the script below with the following code to implement model loading functionality:

  document.addEventListener('DOMContentLoaded', function () {
    const progressBar = document.getElementById('progress-bar');
    const loader = new THREE.GLTFLoader();

    // Load the GLTF model
    loader.load(
      'path/to/model.gltf',  
      function (gltf) {
        // Model successfully loaded
        // Add the loaded model to the scene if using Three.js scene
        // scene.add(gltf.scene);

        // Hide progress bar when loading is complete
        progressBar.style.width = '100%';
        setTimeout(() => {
          progressBar.style.display = 'none';
        }, 500);
      },
      function (xhr) {
        // Update progress bar during the loading process
        const progress = (xhr.loaded / xhr.total) * 100;
        progressBar.style.width = progress + '%';
        progressBar.style.background = `linear-gradient(to right, purple, yellow ${progress}%)`;
      },
      function (error) {
        console.error('An error occurred during the model loading:', error);
      }
    );
  });

-->

  <script>
    // Simulated loading process
    document.addEventListener('DOMContentLoaded', function () {
      const progressBar = document.getElementById('progress-bar');
      let progress = 0;

      const interval = setInterval(() => {
        progress += 10;
        progressBar.style.width = progress + '%'; 
        progressBar.style.background = `linear-gradient(to right, purple, yellow ${progress}%)`; 

        if (progress >= 100) {
          clearInterval(interval);
          progressBar.style.display = 'none'; 
        }
      }, 300); // Progress every 300ms
    });
  </script>

</body>
</html>
